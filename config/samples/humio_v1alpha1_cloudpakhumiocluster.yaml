apiVersion: humio.partners.ibm.com/v1alpha1
kind: CloudPakHumioCluster
metadata:
  name: cloudpakhumiocluster-sample
spec:
  humioClusterSpec:
    image: "humio/humio-core:1.18.1"
    helperImage: "humio/humio-operator-helper/1.18.1"
    nodeCount: 3
    targetReplicationFactor: 3
    dataVolumePersistentVolumeClaimSpecTemplate:
      accessModes:
        - ReadWriteOnce
      resources:
        requests:
          storage: 100Gi
    environmentVariables: {}
  OidcUsernameClaim: "email"
  OidcGroupsClaim: "groupIds"
  BedRockSelfSignedCert: false
  strimzi:
    createKafkaCluster: true
    spec:
      entityOperator:
        topicOperator: { }
        userOperator: { }
      kafka:
        config:
          inter.broker.protocol.version: "2.6"
          log.message.format.version: "2.6"
          offsets.topic.replication.factor: 3
          transaction.state.log.min.isr: 2
          transaction.state.log.replication.factor: 3
        listeners:
          - name: plain
            port: 9092
            tls: false
            type: internal
          - name: tls
            port: 9093
            tls: true
            type: internal
        replicas: 3
        storage:
          deleteClaim: true
          size: 100Gi
          type: persistent-claim
        version: 2.6.0
      zookeeper:
        replicas: 3
        storage:
          deleteClaim: true
          size: 100Gi
          type: persistent-claim
  
  
